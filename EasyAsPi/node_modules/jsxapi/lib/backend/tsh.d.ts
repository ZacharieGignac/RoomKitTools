import { CloseableStream } from '../xapi/types';
import Backend from './';
export declare type State = 'idle' | 'connecting' | 'initializing' | 'closed' | 'ready';
export default class TSHBackend extends Backend {
    readonly transport: CloseableStream;
    private feedbackQueries;
    private nextFeedbackId;
    private parser;
    private buffer;
    private state;
    constructor(transport: CloseableStream);
    close(): void;
    send(id: string, command: string, body: string): void;
    onTransportData(data: any): void;
    private bufferHasOK;
    private setState;
    private onParserData;
    private write;
    private ['xCommand()'];
    private ['xDoc()'];
    private ['xFeedback/Subscribe()'];
    private ['xFeedback/Unsubscribe()'];
    private ['xGet()'];
    private ['xSet()'];
    private connectResolve;
}
